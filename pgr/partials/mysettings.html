<section class="mydash">
	<div 
		class="pmain pro" 
		ng-controller="UserController" >
		<div class="block" ng-if="user">
			<input 
				class="hidden" 
				type="file"  
				name="photo" 
				ng-model="newImage"
				
				id="photo" 
				accept="image/jpeg,image/png,image/gif" 
			/>
			
			<div class="image_box" ng-class="{updated: user.sguid == authUserId && isEdit}">
				<img class="pp" ng-src="{{user.avatar}}" err-src="/images/unknown-person.png" />
				<i>{{user.points}}</i>
				<a ng-click="onUpdateFile()" title="">Update image</a>
				<span></span>
			</div>
			
			<!--
			<div class="publish">
				<p>
					<button ng-click="onPublish()" ng-if="authUserId == currentUserId && isEdit">
						<span ng-switch on="user.published" >
							<span ng-switch-when="1">
								{{'_Update_' | i18n}}
							</span>
							<span ng-switch-when="0">
								{{'_PublishL_' | i18n}}
							</span>
						</span>
					</button>
					<span ng-if="authUserId && authUserId != currentUserId">
						<span ng-switch on="isFollow" >
							<span ng-switch-when="false">
								<button ng-click="onFollow()">
									{{'_AddFrend_' | i18n}}
								</button>
							</span>
							<span ng-switch-when="true">
								<button class="unfollow" ng-click="onUnFollow()">
									{{'_RemoveFrend_' | i18n}}
								</button>
							</span>
						</span>
					</span>
				</p>
			</div>
			-->	
		</div>
		<div class="pmpar" ng-if="user">
			<p>
				<label for="name_i">{{'_NameL_' | i18n}}:</label> 
				<input 
					type="text" 
					id="name_i" 
					class="clean form-control" 
					ng-model="user.name"
					required
					ng-minlength="6"
					ng-click="onElementClick($event)"
					ng-if="isEdit && user.sguid == authUserId" />
				<i ng-if="!isEdit || user.sguid != authUserId">{{user.name}}</i>
			</p>
			<p>
				<label for="email_i">{{'_EmaiL_' | i18n}}:</label> 
				<input 
					type="email" 
					id="email_i" 
					class="clean form-control" 
					ng-model="user.email"
					required
					ng-click="onElementClick($event)"
					ng-if="isEdit && user.sguid == authUserId" />
					<i ng-if="!isEdit || user.sguid != authUserId">{{user.email}}</i>
			</p>
			<!--
			<p ng-if="isEdit && user.sguid == authUserId" ng-controller="QuickUserChangeCtrl">
				<label for="acc_i">{{'_AccL_' | i18n}}:</label>
				<select 
					id="acc_i"
					ng-options="item.login for item in users" 
					ng-model="nextUser" 
					ng-change="onMoveUserClick($event, nextUser)">
					<option value="">{{user.login}}</option>
				</select>
				<i ng-if="!isEdit || user.sguid != authUserId">{{user.login}}</i>
			</p>
			-->
			<p>
				<label for="age_i">{{'_BirthdayL_' | i18n}}:</label>
				<input 
					type="text" 
					ng-model="user.birthday" 
					data-date-format="dd/mm/yyyy" 
					bs-datepicker
					class="clean form-control" 
					id="age_i"
					ng-click="onElementClick($event)"
					ng-if="isEdit && user.sguid == authUserId" />
				<i ng-if="!isEdit || user.sguid != authUserId">{{user.birthday}}</i>
			</p>
			<p>
				<label for="loc_i">{{'_LocL_' | i18n}}:</label>
				<select 
					ng-options="item.sguid as item.name for item in states" 
					ng-model="user.state.sguid" 
					id="loc_i"
					ng-click="onElementClick($event)"
					ng-if="isEdit && user.sguid == authUserId">
				</select>
				<i ng-if="!isEdit || user.sguid != authUserId">{{user.state.name}}</i>
			<p>
				<label for="pro_i">{{'_ProfL_' | i18n}}:</label>
				<input 
					id="pro_i" 
					ng-if="isEdit && user.sguid == authUserId" 
					ng-model="user.profession.name" 
					type="text" 
					bs-typeahead="professionFn"
					ng-click="onElementClick($event)" />
				<i ng-if="!isEdit || user.sguid != authUserId">{{user.profession.name}}</i>
			</p>
		</div>
	</div>
</section>