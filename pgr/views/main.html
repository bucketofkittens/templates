<a ng-click="onState()" class="viewch">Облако</a>
<section ng-if="state" id="main_leagues">
	<a ng-if="!rootUser" ng-click="onOpenLogin()" class="who" >
		<img ng-src="/images/unknown-person.png" alt="" />
	</a>
	<a ng-if="rootUser" href="#/profile/{{rootUser.sguid}}" class="who">
		<img ng-src="{{rootUser.avatar.full_path}}" err-src="/images/unknown-person.png" />
	</a>

	<ul>
		<li ng-class="{showMenu: userItem.user.showHint}" ng-repeat="userItem in viewedUsers" class="{{userItem.user.sguid}} league_{{userItem.user.league.name}}">
			<a ng-if="userItem.user" ng-click="onMoveToUser(userItem)" ng-mouseleave="onMouseLeaveUser(userItem.user)" ng-mouseenter="onMouseEnterUser(userItem.user)" >
				<img ng-src="{{userItem.user.avatar.full_path}}" alt="" err-src="/images/unknown-person.png" />
				<span>{{userItem.user.points}}</span>
				<sub ng-class="{show: userItem.user.showHint}">{{userItem.user.name}} {{userItem.user.profession.name}}</sub>
				<i></i>
				<div class="fallout" ng-class="{show: userItem.user.showMenu}">
					<b>Compare</b>
					<b>Follow</b>
				</div>
			</a>
		</li>
	</ul>
</section>

<section ng-if="!state" id="main_leagues" class="tags">
	<a ng-if="!rootUser" ng-click="onOpenLogin()" class="who" >
		<img ng-src="/images/unknown-person.png" alt="" />
	</a>
	<a ng-if="rootUser" href="#/profile/{{rootUser.sguid}}" class="who">
		<img ng-src="{{rootUser.avatar.full_path}}" err-src="/images/unknown-person.png" />
	</a>

	<ul>
		<li ng-class="{showMenu: userItem.user.showHint}" ng-repeat="userItem in viewedUsers" class="{{userItem.user.sguid}} league_{{userItem.user.league.name}}" paralax-image ng-repeat="userItem in viewedUsers2" class="{{userItem.user.sguid}} league_{{userItem.user.league.name}}">
			<a ng-if="userItem.user" ng-click="onMoveToUser(userItem)" ng-mouseleave="onMouseLeaveUser(userItem.user)" ng-mouseenter="onMouseEnterUser(userItem.user)" >
				<img ng-src="{{userItem.user.avatar.full_path}}" alt="" err-src="/images/unknown-person.png" />
				<span>{{userItem.user.points}}</span>
				<sub ng-class="{show: userItem.user.showHint}">{{userItem.user.name}} {{userItem.user.profession.name}}</sub>
				<i></i>
				<div class="fallout" ng-class="{show: userItem.user.showMenu}">
					<b>Compare</b>
					<b>Follow</b>
				</div>
			</a>
		</li>
	</ul>
</section>

<div ng-controller="RegController">
	<div modal="shouldBeOpen" close="close()" options="opts">
		<div class="modal-body">
			<h4>{{'_RegL_' | i18n}}</h4>
			<form name="form" novalidate class="css-form myForm" >
				<p>
					<label for="login_i">{{'_LoginL_' | i18n}}:</label> 
					<input 
						type="text" 
						id="login_i" 
						class="form-control"
						ng-model="user.login" required ng-minlength="6" />
				</p>
				<p>
					<label for="email_i">E-mail:</label> 
					<input 
						type="email" 
						id="email_i" 
						class="form-control"
						ng-model="user.email" required  /> 
				</p>
				<p>
					<label for="Name_i">{{'_NameL_' | i18n}}:</label> 
					<input 
						type="text" 
						id="name_i" 
						class="form-control"
						ng-model="user.name" required ng-minlength="6" /> 
				</p>
				<p>
					<label for="pass_i">{{'_PasswordL_' | i18n}}:</label> 
					<input 
						type="password" 
						id="pass_i"
						name="password"
						class="form-control"
						ng-model="user.password" 
						required 
						ng-minlength="6" /> 
				</p>
				<p>
					<label for="repass_i">{{'_RepeatL_' | i18n}} {{'_PasswordL_' | i18n}}:</label> 
					<input 
						type="password" 
						id="repass_i" 
						class="form-control"
						ng-model="user.repassword" 
						required 
						ng-minlength="6"  
						same-as="user"
						/> 
				</p>
				<p id="errors">{{errors}}</p>
			</form>
		</div>
		<div class="modal-footer">
			<button class="btn btn-success" ng-click="addUser()" ng-disabled="form.$invalid || isUnchanged(user)">Ok</button>
		   	<button class="btn btn-danger cancel" ng-click="close()">Cancel</button>
		</div>
	</div>
</div>
<div ng-controller="LoginController">
	<div modal="shouldBeOpen" close="close()" options="opts">
		<div class="modal-body">
			<h4>{{'_Auth_' | i18n}}</h4>
			<form id="login_form" name="form" novalidate class="css-form myForm"  ui-keypress="{13:'onSubmit($event)'}">
				<p>
					<label for="login_i">{{'_LoginL_' | i18n}}:</label> 
					<input 
						type="text" 
						id="login_i" 
						class="form-control"
						ng-model="login" required ng-minlength="6" />
				</p>
				<p>
					<label for="pass_i">{{'_PasswordL_' | i18n}}:</label> 
					<input 
						type="password" 
						id="pass_i"
						name="password"
						class="form-control"
						ng-model="password" 
						required 
						ng-minlength="6" /> 
				</p>
				<p><a ng-click="regiostrationOpen()">Registration</a></p>
				<p id="errors">{{error}}</p>
			</form>
		</div>
		<div class="modal-footer">
			<button class="btn btn-success" ng-click="onSingin()" ng-disabled="form.$invalid || isUnchanged(user)">Ok</button>
		   	<button class="btn btn-danger cancel" ng-click="close()">Cancel</button>
		</div>
	</div>
</div>
<a class="scroll" href="#">{{'_ScrollL_' | i18n}}</a>